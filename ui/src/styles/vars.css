/* Variables used in other styles
 *
 * Print a list of all variables that aren't used outside of this file, run from the project root:
 *    grep -o -e "--[a-zA-Z0-9-]\+"  ui/src/styles/vars.css | while read v; do if ! rg -g '!ui/src/styles/vars.css' -q -- "$v" .; then echo $v; fi; done
 *
 * There are three types of variables here:
 * Some can be overridden by the user who embeds the KeymapKit UI,
 * those which can be overridden by keyboard packages,
 * and those which cannot be overridden.
 *
 * User-overridable variables are limited to those that control appearance,
 * including colors and fonts.
 *
 * Keyboard-overridable variables are those that control the size of the keyboard,
 * which are used to scale the size of the whole UI.
 */

/*******************************************************************************
 * User-overridable variables, including for light mode and the default screen size
 */
:host {
  /* Fonts
   */
  --_key-legend-font: var(--key-legend-font, monospace);
  --_font-family: var(
    --font-family,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    Segoe UI,
    Roboto,
    Helvetica Neue,
    Arial,
    Noto Sans,
    sans-serif,
    Apple Color Emoji,
    Segoe UI Emoji,
    Segoe UI Symbol,
    Noto Color Emoji
  );

  /* Light mode color definitions */
  --_light-foreground-color: var(--light-foreground-color, black);
  --_light-button-border-color: var(--light-button-border-color, oklch(87.2% 0.009 258.3));
  --_light-key-fg: var(--light-key-fg, black);

  /* Group 1: Base Key Colors - Base: key-bg */
  --_light-key-bg: var(--light-key-bg, oklch(95.9% 0.009 247.9)); /* Base color */
  --_light-key-border: var(--light-key-border, oklch(from var(--_light-key-bg) calc(l - 0.213) calc(c + 0.021) calc(h + 6.8))); /* 22.2% darker, +0.021 chroma, +6.8 hue */
  --_light-key-hover-bg: var(--light-key-hover-bg, oklch(from var(--_light-key-bg) calc(l - 0.09) calc(c + 0.01) calc(h + 2.7))); /* 9.4% darker, +0.01 chroma, +2.7 hue */
  --_light-key-focus-bg: var(--light-key-focus-bg, oklch(from var(--_light-key-bg) calc(l - 0.03) calc(c + 0.004) calc(h + 7.6))); /* 3.1% darker, +0.004 chroma, +7.6 hue */

  /* Group 2: Active Key Colors - Base: key-active-bg */
  --_light-key-active-bg: var(--light-key-active-bg, oklch(80.1% 0.134 68.8)); /* Base color */
  --_light-key-active-border: var(--light-key-active-border, oklch(from var(--_light-key-active-bg) calc(l - 0.222) calc(c + 0.016) calc(h - 25))); /* 27.7% darker, +0.016 chroma, -25 hue */
  --_light-key-active-hover-bg: var(--light-key-active-hover-bg, oklch(from var(--_light-key-active-bg) calc(l - 0.148) calc(c + 0.03) calc(h - 20.4))); /* 18.5% darker, +0.03 chroma, -20.4 hue */
  --_light-key-active-focus-bg: var(--light-key-active-focus-bg, oklch(from var(--_light-key-active-bg) calc(l - 0.034) calc(c - 0.005) calc(h + 0.2))); /* 4.2% darker, -0.005 chroma, +0.2 hue */
  --_light-diagram-line-selected-color: var(--light-diagram-line-selected-color, oklch(from var(--_light-key-active-bg) calc(l + 0.085) calc(c - 0.035) calc(h + 12.1) / 0.6)); /* 10.6% lighter, -0.035 chroma, +12.1 hue, 60% opacity */

  /* Group 3: Related Active Key Colors - Base: key-related-active-bg */
  --_light-key-related-active-bg: var(--light-key-related-active-bg, oklch(94.6% 0.05 82.8)); /* Base color */
  --_light-key-related-active-border: var(--light-key-related-active-border, oklch(from var(--_light-key-related-active-bg) calc(l - 0.222) calc(c + 0.103) calc(h - 26.7))); /* 23.5% darker, +0.103 chroma, -26.7 hue */
  --_light-key-related-active-hover-bg: var(--light-key-related-active-hover-bg, oklch(from var(--_light-key-related-active-bg) calc(l - 0.145) calc(c + 0.084) calc(h - 14))); /* 15.3% darker, +0.084 chroma, -14 hue */
  --_light-key-related-active-focus-bg: var(--light-key-related-active-focus-bg, oklch(from var(--_light-key-related-active-bg) calc(l - 0.057) calc(c + 0.016) calc(h - 0.2))); /* 6.0% darker, +0.016 chroma, -0.2 hue */

  /* Group 4: Diagram Target Key Colors - Base: key-diagram-target-bg */
  --_light-key-diagram-target-bg: var(--light-key-diagram-target-bg, oklch(93.1% 0.066 154.9)); /* Base color */
  --_light-key-diagram-target-border: var(--light-key-diagram-target-border, oklch(from var(--_light-key-diagram-target-bg) calc(l - 0.221) calc(c + 0.077) calc(h - 0.4))); /* 23.7% darker, +0.077 chroma, -0.4 hue */
  --_light-key-diagram-target-hover-bg: var(--light-key-diagram-target-hover-bg, oklch(from var(--_light-key-diagram-target-bg) calc(l - 0.145) calc(c + 0.072) calc(h - 0.4))); /* 15.6% darker, +0.072 chroma, -0.4 hue */
  --_light-key-diagram-target-focus-bg: var(--light-key-diagram-target-focus-bg, oklch(from var(--_light-key-diagram-target-bg) calc(l - 0.066) calc(c + 0.016) calc(h - 1.2))); /* 7.1% darker, +0.016 chroma, -1.2 hue */
  --_light-diagram-line-textref-color: var(--light-diagram-line-textref-color, oklch(from var(--_light-key-diagram-target-bg) calc(l - 0.145) calc(c + 0.072) calc(h - 0.4))); /* Same as hover-bg: 15.6% darker, +0.072 chroma, -0.4 hue */

  /* Group 5: Layer Key Colors - Base: key-layer-bg */
  --_light-key-layer-bg: var(--light-key-layer-bg, oklch(94.6% 0.033 307.2)); /* Base color */
  --_light-key-layer-border: var(--light-key-layer-border, oklch(from var(--_light-key-layer-bg) calc(l - 0.319) calc(c + 0.2) calc(h - 3.3))); /* 33.7% darker, +0.2 chroma, -3.3 hue */
  --_light-key-layer-hover-bg: var(--light-key-layer-hover-bg, oklch(from var(--_light-key-layer-bg) calc(l - 0.08) calc(c + 0.051) calc(h - 0.6))); /* 8.5% darker, +0.051 chroma, -0.6 hue */
  --_light-key-layer-selected-bg: var(--light-key-layer-selected-bg, oklch(from var(--_light-key-layer-bg) calc(l - 0.159) calc(c + 0.105) calc(h - 0.8))); /* 16.8% darker, +0.105 chroma, -0.8 hue */
  --_light-key-layer-selected-border: var(--light-key-layer-selected-border, oklch(from var(--_light-key-layer-bg) calc(l - 0.405) calc(c + 0.214) calc(h - 14.2))); /* 42.8% darker, +0.214 chroma, -14.2 hue */
  --_light-key-layer-selected-hover-bg: var(--light-key-layer-selected-hover-bg, oklch(from var(--_light-key-layer-bg) calc(l - 0.267) calc(c + 0.179) calc(h - 2.8) / 0.6)); /* 28.2% darker, +0.179 chroma, -2.8 hue, 60% opacity */

  /* Misc light mode colors */
  --_light-kbd-fg: var(--light-kbd-fg, black);
  --_light-kbd-border-color: var(--light-kbd-border-color, oklch(73.8% 0 NaN));
  --_light-kbd-background: var(--light-kbd-background, linear-gradient(180deg, oklch(100% 0 NaN), oklch(100% 0 NaN), oklch(100% 0 NaN), oklch(89.8% 0 NaN)));
  --_light-link-fg: var(--light-link-fg, oklch(59.5% 0.14 250.3));
  --_light-text-muted: var(--light-text-muted, oklch(71.4% 0.019 261.3));

  /* Dark mode color definitions */
  --_dark-foreground-color: var(--dark-foreground-color, white);
  --_dark-button-border-color: var(--dark-button-border-color, oklch(44.6% 0.026 256.8));
  --_dark-key-fg: var(--dark-key-fg, oklch(96.7% 0.003 264.5));

  /* Group 1: Base Key Colors - Base: key-bg */
  --_dark-key-bg: var(--dark-key-bg, oklch(37.3% 0.031 259.7)); /* Base color */
  --_dark-key-border: var(--dark-key-border, oklch(from var(--_dark-key-bg) calc(l + 0.178) calc(c - 0.008) calc(h + 4.7))); /* 17.8% lighter, -0.008 chroma, +4.7 hue */
  --_dark-key-hover-bg: var(--dark-key-hover-bg, oklch(from var(--_dark-key-bg) calc(l + 0.073) calc(c - 0.005) calc(h - 2.9))); /* 7.3% lighter, -0.005 chroma, -2.9 hue */
  --_dark-key-focus-bg: var(--dark-key-focus-bg, oklch(from var(--_dark-key-bg) calc(l + 0.073) calc(c - 0.005) calc(h - 2.9))); /* Same as hover: 7.3% lighter, -0.005 chroma, -2.9 hue */

  /* Group 2: Active Key Colors - Base: key-active-bg */
  --_dark-key-active-bg: var(--dark-key-active-bg, oklch(68.1% 0.152 58.4)); /* Base color */
  --_dark-key-active-border: var(--dark-key-active-border, oklch(from var(--_dark-key-active-bg) calc(l - 0.126) calc(c - 0.006) calc(h - 9.4))); /* 18.5% darker, -0.006 chroma, -9.4 hue */
  --_dark-key-active-hover-bg: var(--dark-key-active-hover-bg, oklch(from var(--_dark-key-active-bg) calc(l - 0.069) calc(c - 0.012) calc(h - 3.6))); /* 10.1% darker, -0.012 chroma, -3.6 hue */
  --_dark-key-active-focus-bg: var(--dark-key-active-focus-bg, oklch(from var(--_dark-key-active-bg) calc(l - 0.069) calc(c - 0.012) calc(h - 3.6))); /* Same as hover: 10.1% darker, -0.012 chroma, -3.6 hue */
  --_dark-diagram-line-selected-color: var(--dark-diagram-line-selected-color, oklch(from var(--_dark-key-active-bg) calc(l + 0.088) calc(c + 0.013) calc(h + 11.7) / 0.8)); /* 12.9% lighter, +0.013 chroma, +11.7 hue, 80% opacity */

  /* Group 3: Related Active Key Colors - Base: key-related-active-bg */
  --_dark-key-related-active-bg: var(--dark-key-related-active-bg, oklch(43.7% 0.102 53)); /* Base color */
  --_dark-key-related-active-border: var(--dark-key-related-active-border, oklch(from var(--_dark-key-related-active-bg) calc(l + 0.244) calc(c + 0.05) calc(h + 5.4))); /* 55.9% lighter, +0.05 chroma, +5.4 hue */
  --_dark-key-related-active-hover-bg: var(--dark-key-related-active-hover-bg, oklch(from var(--_dark-key-related-active-bg) calc(l + 0.1) calc(c - 0.009) calc(h + 13.5))); /* 22.9% lighter, -0.009 chroma, +13.5 hue */
  --_dark-key-related-active-focus-bg: var(--dark-key-related-active-focus-bg, oklch(from var(--_dark-key-related-active-bg) calc(l + 0.1) calc(c - 0.009) calc(h + 13.5))); /* Same as hover: 22.9% lighter, -0.009 chroma, +13.5 hue */

  /* Group 4: Diagram Target Key Colors - Base: key-diagram-target-bg */
  --_dark-key-diagram-target-bg: var(--dark-key-diagram-target-bg, oklch(38.2% 0.072 154.4)); /* Base color */
  --_dark-key-diagram-target-border: var(--dark-key-diagram-target-border, oklch(from var(--_dark-key-diagram-target-bg) calc(l + 0.391) calc(c + 0.081) calc(h + 8.8))); /* 102.4% lighter, +0.081 chroma, +8.8 hue */
  --_dark-key-diagram-target-hover-bg: var(--dark-key-diagram-target-hover-bg, oklch(from var(--_dark-key-diagram-target-bg) calc(l + 0.145) calc(c + 0.065) calc(h - 4.3))); /* 38.0% lighter, +0.065 chroma, -4.3 hue */
  --_dark-key-diagram-target-focus-bg: var(--dark-key-diagram-target-focus-bg, oklch(from var(--_dark-key-diagram-target-bg) calc(l + 0.12) calc(c + 0.033) calc(h + 1.9))); /* 31.4% lighter, +0.033 chroma, +1.9 hue */
  --_dark-diagram-line-textref-color: var(--dark-diagram-line-textref-color, oklch(from var(--_dark-key-diagram-target-bg) calc(l + 0.391) calc(c + 0.081) calc(h + 8.8))); /* Same as border: 102.4% lighter, +0.081 chroma, +8.8 hue */

  /* Group 5: Layer Key Colors - Base: key-layer-bg */
  --_dark-key-layer-bg: var(--dark-key-layer-bg, oklch(38.1% 0.166 305)); /* Base color */
  --_dark-key-layer-border: var(--dark-key-layer-border, oklch(from var(--_dark-key-layer-bg) calc(l + 0.246) calc(c + 0.067) calc(h - 1.1))); /* 64.6% lighter, +0.067 chroma, -1.1 hue */
  --_dark-key-layer-hover-bg: var(--dark-key-layer-hover-bg, oklch(from var(--_dark-key-layer-bg) calc(l + 0.057) calc(c + 0.032) calc(h - 1.3))); /* 14.9% lighter, +0.032 chroma, -1.3 hue */
  --_dark-key-layer-selected-bg: var(--dark-key-layer-selected-bg, oklch(from var(--_dark-key-layer-bg) calc(l + 0.16) calc(c + 0.081) calc(h - 12))); /* 42.0% lighter, +0.081 chroma, -12 hue */
  --_dark-key-layer-selected-border: var(--dark-key-layer-selected-border, oklch(from var(--_dark-key-layer-bg) calc(l + 0.246) calc(c + 0.067) calc(h - 1.1))); /* Same as border: 64.6% lighter, +0.067 chroma, -1.1 hue */
  --_dark-key-layer-selected-hover-bg: var(--dark-key-layer-selected-hover-bg, oklch(from var(--_dark-key-layer-bg) calc(l + 0.225) calc(c + 0.053) calc(h - 12.3))); /* 59.1% lighter, +0.053 chroma, -12.3 hue */

  /* Misc dark mode colors */
  --_dark-kbd-fg: var(--dark-kbd-fg, oklch(96.7% 0.003 264.5));
  --_dark-kbd-border-color: var(--dark-kbd-border-color, oklch(55.1% 0.023 264.4));
  --_dark-kbd-background: var(--dark-kbd-background, linear-gradient(180deg, oklch(37.3% 0.031 259.7), oklch(37.3% 0.031 259.7), oklch(37.3% 0.031 259.7), oklch(27.8% 0.03 256.8)));
  --_dark-link-fg: var(--dark-link-fg, oklch(71.4% 0.143 254.6));
  --_dark-text-muted: var(--dark-text-muted, oklch(55.1% 0.023 264.4));

  /* Default to light mode colors */
  --_foreground-color: var(--_light-foreground-color);
  --_button-border-color: var(--_light-button-border-color);
  --_key-fg: var(--_light-key-fg);
  --_key-bg: var(--_light-key-bg);
  --_key-border: var(--_light-key-border);
  --_key-hover-bg: var(--_light-key-hover-bg);
  --_key-active-bg: var(--_light-key-active-bg);
  --_key-active-border: var(--_light-key-active-border);
  --_key-active-hover-bg: var(--_light-key-active-hover-bg);
  --_key-related-active-bg: var(--_light-key-related-active-bg);
  --_key-related-active-border: var(--_light-key-related-active-border);
  --_key-related-active-hover-bg: var(--_light-key-related-active-hover-bg);
  --_key-diagram-target-bg: var(--_light-key-diagram-target-bg);
  --_key-diagram-target-border: var(--_light-key-diagram-target-border);
  --_key-diagram-target-hover-bg: var(--_light-key-diagram-target-hover-bg);
  --_key-focus-bg: var(--_light-key-focus-bg);
  --_key-active-focus-bg: var(--_light-key-active-focus-bg);
  --_key-related-active-focus-bg: var(--_light-key-related-active-focus-bg);
  --_key-diagram-target-focus-bg: var(--_light-key-diagram-target-focus-bg);
  --_key-layer-bg: var(--_light-key-layer-bg);
  --_key-layer-border: var(--_light-key-layer-border);
  --_key-layer-hover-bg: var(--_light-key-layer-hover-bg);
  --_key-layer-selected-bg: var(--_light-key-layer-selected-bg);
  --_key-layer-selected-border: var(--_light-key-layer-selected-border);
  --_key-layer-selected-hover-bg: var(--_light-key-layer-selected-hover-bg);
  --_kbd-fg: var(--_light-kbd-fg);
  --_kbd-border-color: var(--_light-kbd-border-color);
  --_kbd-background: var(--_light-kbd-background);
  --_diagram-line-textref-color: var(--_light-diagram-line-textref-color);
  --_diagram-line-selected-color: var(--_light-diagram-line-selected-color);
  --_link-fg: var(--_light-link-fg);
  --_text-muted: var(--_light-text-muted);

  /* Debug colors stay the same for both modes */
  --_diagram-debug-center-line-color: var(--diagram-debug-center-line-color, cornflowerblue);
  --_diagram-debug-keyboard-color: var(--diagram-debug-keyboard-color, khaki);
  --_diagram-debug-left-color: var(--diagram-debug-left-color, lawngreen);
  --_diagram-debug-right-color: var(--diagram-debug-right-color, red);
}

/* System dark mode (when no override) */
@media (prefers-color-scheme: dark) {
  :host:not([color-scheme]) {
    --_foreground-color: var(--_dark-foreground-color);
    --_button-border-color: var(--_dark-button-border-color);
    --_key-fg: var(--_dark-key-fg);
    --_key-bg: var(--_dark-key-bg);
    --_key-border: var(--_dark-key-border);
    --_key-hover-bg: var(--_dark-key-hover-bg);
    --_key-active-bg: var(--_dark-key-active-bg);
    --_key-active-border: var(--_dark-key-active-border);
    --_key-active-hover-bg: var(--_dark-key-active-hover-bg);
    --_key-related-active-bg: var(--_dark-key-related-active-bg);
    --_key-related-active-border: var(--_dark-key-related-active-border);
    --_key-related-active-hover-bg: var(--_dark-key-related-active-hover-bg);
    --_key-diagram-target-bg: var(--_dark-key-diagram-target-bg);
    --_key-diagram-target-border: var(--_dark-key-diagram-target-border);
    --_key-diagram-target-hover-bg: var(--_dark-key-diagram-target-hover-bg);
    --_key-focus-bg: var(--_dark-key-focus-bg);
    --_key-active-focus-bg: var(--_dark-key-active-focus-bg);
    --_key-related-active-focus-bg: var(--_dark-key-related-active-focus-bg);
    --_key-diagram-target-focus-bg: var(--_dark-key-diagram-target-focus-bg);
    --_key-layer-bg: var(--_dark-key-layer-bg);
    --_key-layer-border: var(--_dark-key-layer-border);
    --_key-layer-hover-bg: var(--_dark-key-layer-hover-bg);
    --_key-layer-selected-bg: var(--_dark-key-layer-selected-bg);
    --_key-layer-selected-border: var(--_dark-key-layer-selected-border);
    --_key-layer-selected-hover-bg: var(--_dark-key-layer-selected-hover-bg);
    --_kbd-fg: var(--_dark-kbd-fg);
    --_kbd-border-color: var(--_dark-kbd-border-color);
    --_kbd-background: var(--_dark-kbd-background);
    --_diagram-line-textref-color: var(--_dark-diagram-line-textref-color);
    --_diagram-line-selected-color: var(--_dark-diagram-line-selected-color);
    --_link-fg: var(--_dark-link-fg);
    --_text-muted: var(--_dark-text-muted);
  }
}

/* Explicit dark mode */
:host([color-scheme="dark"]) {
  --_foreground-color: var(--_dark-foreground-color);
  --_button-border-color: var(--_dark-button-border-color);
  --_key-fg: var(--_dark-key-fg);
  --_key-bg: var(--_dark-key-bg);
  --_key-border: var(--_dark-key-border);
  --_key-hover-bg: var(--_dark-key-hover-bg);
  --_key-active-bg: var(--_dark-key-active-bg);
  --_key-active-border: var(--_dark-key-active-border);
  --_key-active-hover-bg: var(--_dark-key-active-hover-bg);
  --_key-related-active-bg: var(--_dark-key-related-active-bg);
  --_key-related-active-border: var(--_dark-key-related-active-border);
  --_key-related-active-hover-bg: var(--_dark-key-related-active-hover-bg);
  --_key-diagram-target-bg: var(--_dark-key-diagram-target-bg);
  --_key-diagram-target-border: var(--_dark-key-diagram-target-border);
  --_key-diagram-target-hover-bg: var(--_dark-key-diagram-target-hover-bg);
  --_key-focus-bg: var(--_dark-key-focus-bg);
  --_key-active-focus-bg: var(--_dark-key-active-focus-bg);
  --_key-related-active-focus-bg: var(--_dark-key-related-active-focus-bg);
  --_key-diagram-target-focus-bg: var(--_dark-key-diagram-target-focus-bg);
  --_key-layer-bg: var(--_dark-key-layer-bg);
  --_key-layer-border: var(--_dark-key-layer-border);
  --_key-layer-hover-bg: var(--_dark-key-layer-hover-bg);
  --_key-layer-selected-bg: var(--_dark-key-layer-selected-bg);
  --_key-layer-selected-border: var(--_dark-key-layer-selected-border);
  --_key-layer-selected-hover-bg: var(--_dark-key-layer-selected-hover-bg);
  --_kbd-fg: var(--_dark-kbd-fg);
  --_kbd-border-color: var(--_dark-kbd-border-color);
  --_kbd-background: var(--_dark-kbd-background);
  --_diagram-line-textref-color: var(--_dark-diagram-line-textref-color);
  --_diagram-line-selected-color: var(--_dark-diagram-line-selected-color);
  --_link-fg: var(--_dark-link-fg);
  --_text-muted: var(--_dark-text-muted);
}

/* Explicit light mode */
:host([color-scheme="light"]) {
  --_foreground-color: var(--_light-foreground-color);
  --_button-border-color: var(--_light-button-border-color);
  --_key-fg: var(--_light-key-fg);
  --_key-bg: var(--_light-key-bg);
  --_key-border: var(--_light-key-border);
  --_key-hover-bg: var(--_light-key-hover-bg);
  --_key-active-bg: var(--_light-key-active-bg);
  --_key-active-border: var(--_light-key-active-border);
  --_key-active-hover-bg: var(--_light-key-active-hover-bg);
  --_key-related-active-bg: var(--_light-key-related-active-bg);
  --_key-related-active-border: var(--_light-key-related-active-border);
  --_key-related-active-hover-bg: var(--_light-key-related-active-hover-bg);
  --_key-diagram-target-bg: var(--_light-key-diagram-target-bg);
  --_key-diagram-target-border: var(--_light-key-diagram-target-border);
  --_key-diagram-target-hover-bg: var(--_light-key-diagram-target-hover-bg);
  --_key-focus-bg: var(--_light-key-focus-bg);
  --_key-active-focus-bg: var(--_light-key-active-focus-bg);
  --_key-related-active-focus-bg: var(--_light-key-related-active-focus-bg);
  --_key-diagram-target-focus-bg: var(--_light-key-diagram-target-focus-bg);
  --_key-layer-bg: var(--_light-key-layer-bg);
  --_key-layer-border: var(--_light-key-layer-border);
  --_key-layer-hover-bg: var(--_light-key-layer-hover-bg);
  --_key-layer-selected-bg: var(--_light-key-layer-selected-bg);
  --_key-layer-selected-border: var(--_light-key-layer-selected-border);
  --_key-layer-selected-hover-bg: var(--_light-key-layer-selected-hover-bg);
  --_kbd-fg: var(--_light-kbd-fg);
  --_kbd-border-color: var(--_light-kbd-border-color);
  --_kbd-background: var(--_light-kbd-background);
  --_diagram-line-textref-color: var(--_light-diagram-line-textref-color);
  --_diagram-line-selected-color: var(--_light-diagram-line-selected-color);
  --_link-fg: var(--_light-link-fg);
  --_text-muted: var(--_light-text-muted);
}

/*******************************************************************************
 * Keyboard-overridable variables are those that control the size of the keyboard,
 */

.keymap-ui-kid-container {
  /* The --keyboard-grid-unit variable is used to scale the size of the whole UI.
   *
   * We use @container queries (see next section) to provide a default set of sizes for keyboard keys.
   * When writing a new keyboard that inherits from KeymapKeyboardElement,
   * you may include a <style> element that overrides this variable
   * targeted to :host and/or @container queries,
   * and it will override the defaults here.
   * (This is because this stylesheet is imported into the keymap-ui shadow DOM first,
   * and keyboard elements are added to the same shadow DOM later,
   * and later styles override earlier ones.)
   *
   * This unit MUST only be used for **children** of :host,
   * because @container queries are used to scale it,
   * and the :host element sets container-type:inline-size.
   */
  --keyboard-grid-unit: 0.75rem;
}

/* Scale with container queries.
 * These are relative to the closest ancestor with container-type:inline-size,
 * which we have set on :host.
 */
@container (min-width: 540px) {
  .keymap-ui-kid-container {
    --keyboard-grid-unit: 1rem;
  }
}
@container (min-width: 768px) {
  .keymap-ui-kid-container {
    --keyboard-grid-unit: 1.25rem;
  }
}

/*******************************************************************************
 * Internal variables that are not intended to be overridden.
 */

.keymap-ui-kid-container {
  /* Calculations based on --keyboard-grid-unit.
   */
  --kid-diamarg-width: calc(var(--keyboard-grid-unit) * 2);
}
