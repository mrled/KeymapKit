const eleventyNavigationPlugin = require("@11ty/eleventy-navigation");

const draftsPlugin = require("./eleventy.plugin.drafts.js");
const demosPlugin = require("./eleventy.plugin.demos.js");

module.exports = (eleventyConfig) => {
  // The static dir contains files that should be copied as-is to the output dir that are checked in to git
  eleventyConfig.addPassthroughCopy({ static: "/" });
  // The staticdist dir contains files that should be copied as-is to the output dir that are generated by the build process
  eleventyConfig.addPassthroughCopy({ staticdist: "/" });
  eleventyConfig.addPlugin(eleventyNavigationPlugin);
  eleventyConfig.addPlugin(draftsPlugin);
  eleventyConfig.addPlugin(demosPlugin);
  return {
    dir: {
      input: "content",
      includes: "../_includes",
      output: "_site",
    },
  };
};
